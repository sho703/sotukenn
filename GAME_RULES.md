# 二人麻雀 ゲームルール

## 🎯 基本コンセプト

このゲームは伝統的な麻雀を2人用にアレンジしたオリジナルルールです。

## 🀄 使用牌

- **萬子（マンズ）**: 1萬〜9萬 (1m-9m)
- **筒子（ピンズ）**: 1筒〜9筒 (1p-9p)  
- **索子（ソーズ）**: 1索〜9索 (1s-9s)
- **字牌（ジハイ）**: 東・南・西・北・白・發・中

**合計**: 各牌種4枚ずつ、全134枚

## 🎮 ゲームの流れ

### 1. 配牌フェーズ

1. 各プレイヤーにランダムに **34枚** を配布
2. プレイヤーは34枚から **13枚** を選択して手牌を作成
3. CPUは自動的に13枚を選択
4. 残りの **21枚** が捨て牌候補となる

### 2. 対局フェーズ

1. プレイヤーとCPUが交互に捨て牌候補から1枚ずつ捨てる
2. 手牌は13枚のまま変化しない（捨て牌は捨て牌候補から選択）
3. 相手の捨て牌で和了できる場合、即座に和了成立

### 3. 和了判定

- **プレイヤー**: Python mahjongライブラリによる正確な判定
- **CPU**: ランダムに設定された和了牌での判定
- 和了牌が出た時点でゲーム終了

## 🏆 勝利条件

**1飜 = 1ポイント**として計算し、**先に5ポイント** を獲得したプレイヤーの勝利

## 🎲 ドラ

各ゲーム開始時にランダムにドラ表示牌が決定されます。

## 🎯 和了の種類

### プレイヤーの和了

- 手牌13枚 + CPUの捨て牌1枚 = 14枚での和了判定
- Python mahjongライブラリによる正確な役・点数計算
- 表示される情報：
  - 成立した役（日本語名）※自動翻訳
  - 飜数・符数
  - 点数

### CPUの和了

- プレイヤーの捨て牌がCPUの設定された和了牌と一致した場合
- ランダムな点数（1〜3点）で和了

## 🖱️ 操作方法

### 配牌フェーズ

- ドラッグ&ドロップで牌を手牌エリアに移動
- 自動ソート機能（萬子→筒子→索子→字牌の順）
- 13枚選択完了で自動的に対局フェーズへ移行

### 対局フェーズ

- 捨て牌候補エリアから牌をクリックして捨てる
- 手番表示で現在の状況を確認
- 和了判定中は操作不可

## 📊 捨て牌履歴

- プレイヤー・CPU双方の捨て牌を6枚ずつ表示
- 左から右へ、上から下へ時系列順に表示

## 🔄 ゲーム終了

以下の場合にゲーム終了：

1. いずれかのプレイヤーが和了
2. 捨て牌候補が尽きた場合（流局）

## 🎪 特徴的なルール

1. **手牌固定制**: 対局中は手牌13枚が固定、捨て牌は別途用意された21枚から選択
2. **CPU和了牌事前設定**: CPUの和了牌はゲーム開始時にランダム決定
3. **同期的和了判定**: 和了判定中は全ての操作をブロック
4. **自動ソート**: 手牌は常に決められた順序で自動整列
5. **役名日本語表示**: 和了時の役名は自動的に日本語で表示
6. **聴牌チェック**: 手牌選択時に聴牌かどうかを自動判定

---

**このルールは従来の麻雀とは異なるオリジナル仕様です。**
